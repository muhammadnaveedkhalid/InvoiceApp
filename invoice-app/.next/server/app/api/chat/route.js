"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/chat/route";
exports.ids = ["app/api/chat/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("string_decoder");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=C%3A%5Cinvoice-app%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cinvoice-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=C%3A%5Cinvoice-app%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cinvoice-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_invoice_app_src_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/chat/route.ts */ \"(rsc)/./src/app/api/chat/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/chat/route\",\n        pathname: \"/api/chat\",\n        filename: \"route\",\n        bundlePath: \"app/api/chat/route\"\n    },\n    resolvedPagePath: \"C:\\\\invoice-app\\\\src\\\\app\\\\api\\\\chat\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_invoice_app_src_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/chat/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjaGF0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZjaGF0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY2hhdCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDaW52b2ljZS1hcHAlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNpbnZvaWNlLWFwcCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNGO0FBQzNFO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW52b2ljZS1hcHAvPzY2Y2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcaW52b2ljZS1hcHBcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcY2hhdFxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY2hhdC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NoYXRcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2NoYXQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxpbnZvaWNlLWFwcFxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxjaGF0XFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2NoYXQvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=C%3A%5Cinvoice-app%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cinvoice-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/chat/route.ts":
/*!***********************************!*\
  !*** ./src/app/api/chat/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var ai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ai */ \"(rsc)/./node_modules/ai/dist/index.mjs\");\n/* harmony import */ var _lib_quickbooks_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/quickbooks/api */ \"(rsc)/./src/lib/quickbooks/api.ts\");\n\n\n// Mock streaming response helper\nasync function* mockStreamResponse(message) {\n    const encoder = new TextEncoder();\n    const chunks = message.split(\" \");\n    for (const chunk of chunks){\n        yield encoder.encode(chunk + \" \");\n        await new Promise((resolve)=>setTimeout(resolve, 50));\n    }\n}\n// Chat response generator\nasync function* chatCompletion(messages) {\n    const lastMessage = messages[messages.length - 1].content.toLowerCase();\n    // Simulate thinking time\n    await new Promise((resolve)=>setTimeout(resolve, 500));\n    try {\n        // Handle greetings and general messages\n        if (lastMessage.match(/^(hi|hello|hey|greetings|good (morning|afternoon|evening))$/i)) {\n            yield {\n                choices: [\n                    {\n                        delta: {\n                            content: \"Hello! How can I help you with your invoices today?\"\n                        }\n                    }\n                ]\n            };\n            return;\n        }\n        // Handle different types of requests\n        if (lastMessage.includes(\"show me invoice\") || lastMessage.includes(\"get invoice\")) {\n            // Match various invoice number formats\n            const match = lastMessage.match(/(?:show|get)(?:\\s+me)?(?:\\s+invoice)?\\s+#?(?:inv-)?(\\d+)/i);\n            if (match) {\n                try {\n                    const invoice = await (0,_lib_quickbooks_api__WEBPACK_IMPORTED_MODULE_0__.getInvoiceById)(match[1]);\n                    yield {\n                        choices: [\n                            {\n                                delta: {\n                                    content: `Here are the details for Invoice #${invoice.DocNumber}:\\n` + `Customer: ${invoice.CustomerRef.name}\\n` + `Amount: $${invoice.TotalAmt}\\n` + `Date: ${new Date(invoice.TxnDate).toLocaleDateString()}\\n` + `Balance: $${invoice.Balance}`\n                                }\n                            }\n                        ]\n                    };\n                } catch (error) {\n                    const invoices = await (0,_lib_quickbooks_api__WEBPACK_IMPORTED_MODULE_0__.fetchInvoices)();\n                    yield {\n                        choices: [\n                            {\n                                delta: {\n                                    content: `I'm sorry, but I couldn't find Invoice #${match[1]}. Here are the available invoice numbers:\\n` + invoices.map((inv)=>`- ${inv.DocNumber}`).join(\"\\n\")\n                                }\n                            }\n                        ]\n                    };\n                }\n            } else {\n                const invoices = await (0,_lib_quickbooks_api__WEBPACK_IMPORTED_MODULE_0__.fetchInvoices)();\n                yield {\n                    choices: [\n                        {\n                            delta: {\n                                content: \"Please provide a valid invoice number. Here are your available invoices:\\n\\n\" + invoices.map((inv)=>`• Invoice #${inv.DocNumber} - ${inv.CustomerRef.name} ($${inv.TotalAmt})`).join(\"\\n\") + \"\\n\\nYou can use any of these formats:\\n\" + \"• show me invoice [number]\\n\" + \"• show me invoice INV-[number]\\n\" + \"• show me invoice #[number]\"\n                            }\n                        }\n                    ]\n                };\n            }\n        } else if (lastMessage.includes(\"summarize invoice\")) {\n            const match = lastMessage.match(/summarize(?:\\s+invoice)?\\s+#?(?:inv-)?(\\d+)/i);\n            if (match) {\n                try {\n                    const invoice = await (0,_lib_quickbooks_api__WEBPACK_IMPORTED_MODULE_0__.getInvoiceById)(match[1]);\n                    yield {\n                        choices: [\n                            {\n                                delta: {\n                                    content: `Invoice #${invoice.DocNumber} for ${invoice.CustomerRef.name} with total amount $${invoice.TotalAmt}, dated ${new Date(invoice.TxnDate).toLocaleDateString()}`\n                                }\n                            }\n                        ]\n                    };\n                } catch (error) {\n                    const invoices = await (0,_lib_quickbooks_api__WEBPACK_IMPORTED_MODULE_0__.fetchInvoices)();\n                    yield {\n                        choices: [\n                            {\n                                delta: {\n                                    content: `I'm sorry, but I couldn't find Invoice #${match[1]}. Here are the available invoice numbers:\\n` + invoices.map((inv)=>`- ${inv.DocNumber}`).join(\"\\n\")\n                                }\n                            }\n                        ]\n                    };\n                }\n            }\n        } else if (lastMessage.includes(\"list all invoices\") || lastMessage.includes(\"show all invoices\")) {\n            const invoices = await (0,_lib_quickbooks_api__WEBPACK_IMPORTED_MODULE_0__.fetchInvoices)();\n            yield {\n                choices: [\n                    {\n                        delta: {\n                            content: \"Here are all your invoices:\\n\" + invoices.map((inv)=>`- Invoice #${inv.DocNumber}: ${inv.CustomerRef.name} - $${inv.TotalAmt}`).join(\"\\n\")\n                        }\n                    }\n                ]\n            };\n        } else {\n            yield {\n                choices: [\n                    {\n                        delta: {\n                            content: \"I can help you with your invoices. You can ask me to:\\n\" + \"• Show a specific invoice (e.g., 'show me invoice 1')\\n\" + \"• List all invoices (e.g., 'show all invoices')\\n\" + \"• Summarize an invoice (e.g., 'summarize invoice 1')\\n\\n\" + \"What would you like to know about your invoices?\"\n                        }\n                    }\n                ]\n            };\n        }\n    } catch (error) {\n        yield {\n            choices: [\n                {\n                    delta: {\n                        content: \"I'm having trouble accessing the invoice data. Please try again later.\"\n                    }\n                }\n            ]\n        };\n    }\n}\nasync function POST(req) {\n    try {\n        const { messages } = await req.json();\n        // Create a ReadableStream from the chat completion\n        const stream = new ReadableStream({\n            async start (controller) {\n                try {\n                    for await (const chunk of chatCompletion(messages)){\n                        const content = chunk.choices[0].delta.content;\n                        controller.enqueue(new TextEncoder().encode(content));\n                    }\n                    controller.close();\n                } catch (error) {\n                    controller.error(error);\n                }\n            }\n        });\n        return new ai__WEBPACK_IMPORTED_MODULE_1__.StreamingTextResponse(stream);\n    } catch (error) {\n        return new Response(JSON.stringify({\n            error: \"Internal server error\"\n        }), {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDLEVBQUVTLElBQUksQ0FBQzt3QkFDOUc7b0JBQ0Y7aUJBQUU7WUFDSjtRQUNGLE9BQU87WUFDTCxNQUFNO2dCQUNKaEIsU0FBUztvQkFBQzt3QkFDUkMsT0FBTzs0QkFDTEosU0FBUyw0REFDRCw0REFDQSxzREFDQSw2REFDQTt3QkFDVjtvQkFDRjtpQkFBRTtZQUNKO1FBQ0Y7SUFDRixFQUFFLE9BQU9lLE9BQVk7UUFDbkIsTUFBTTtZQUNKWixTQUFTO2dCQUFDO29CQUNSQyxPQUFPO3dCQUNMSixTQUFTO29CQUNYO2dCQUNGO2FBQUU7UUFDSjtJQUNGO0FBQ0Y7QUFFTyxlQUFlb0IsS0FBS0MsR0FBWTtJQUNyQyxJQUFJO1FBQ0YsTUFBTSxFQUFFeEIsUUFBUSxFQUFFLEdBQUcsTUFBTXdCLElBQUlDLElBQUk7UUFFbkMsbURBQW1EO1FBQ25ELE1BQU1DLFNBQVMsSUFBSUMsZUFBZTtZQUNoQyxNQUFNQyxPQUFNQyxVQUFVO2dCQUNwQixJQUFJO29CQUNGLFdBQVcsTUFBTW5DLFNBQVNLLGVBQWVDLFVBQVc7d0JBQ2xELE1BQU1HLFVBQVVULE1BQU1ZLE9BQU8sQ0FBQyxFQUFFLENBQUNDLEtBQUssQ0FBQ0osT0FBTzt3QkFDOUMwQixXQUFXQyxPQUFPLENBQUMsSUFBSXZDLGNBQWNJLE1BQU0sQ0FBQ1E7b0JBQzlDO29CQUNBMEIsV0FBV0UsS0FBSztnQkFDbEIsRUFBRSxPQUFPYixPQUFPO29CQUNkVyxXQUFXWCxLQUFLLENBQUNBO2dCQUNuQjtZQUNGO1FBQ0Y7UUFFQSxPQUFPLElBQUlqQyxxREFBcUJBLENBQUN5QztJQUNuQyxFQUFFLE9BQU9SLE9BQVk7UUFDbkIsT0FBTyxJQUFJYyxTQUFTQyxLQUFLQyxTQUFTLENBQUM7WUFBRWhCLE9BQU87UUFBd0IsSUFBSTtZQUN0RWlCLFFBQVE7UUFDVjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnZvaWNlLWFwcC8uL3NyYy9hcHAvYXBpL2NoYXQvcm91dGUudHM/NDZiNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTdHJlYW1pbmdUZXh0UmVzcG9uc2UsIE1lc3NhZ2UgfSBmcm9tICdhaSdcclxuaW1wb3J0IHsgZ2V0SW52b2ljZUJ5SWQsIGZldGNoSW52b2ljZXMgfSBmcm9tICdAL2xpYi9xdWlja2Jvb2tzL2FwaSdcclxuaW1wb3J0IHsgSW52b2ljZSB9IGZyb20gJ0AvdHlwZXMvaW52b2ljZSdcclxuXHJcbi8vIE1vY2sgc3RyZWFtaW5nIHJlc3BvbnNlIGhlbHBlclxyXG5hc3luYyBmdW5jdGlvbiogbW9ja1N0cmVhbVJlc3BvbnNlKG1lc3NhZ2U6IHN0cmluZykge1xyXG4gIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKVxyXG4gIGNvbnN0IGNodW5rcyA9IG1lc3NhZ2Uuc3BsaXQoJyAnKVxyXG4gIGZvciAoY29uc3QgY2h1bmsgb2YgY2h1bmtzKSB7XHJcbiAgICB5aWVsZCBlbmNvZGVyLmVuY29kZShjaHVuayArICcgJylcclxuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MCkpXHJcbiAgfVxyXG59XHJcblxyXG4vLyBDaGF0IHJlc3BvbnNlIGdlbmVyYXRvclxyXG5hc3luYyBmdW5jdGlvbiogY2hhdENvbXBsZXRpb24obWVzc2FnZXM6IE1lc3NhZ2VbXSkge1xyXG4gIGNvbnN0IGxhc3RNZXNzYWdlID0gbWVzc2FnZXNbbWVzc2FnZXMubGVuZ3RoIC0gMV0uY29udGVudC50b0xvd2VyQ2FzZSgpXHJcbiAgXHJcbiAgLy8gU2ltdWxhdGUgdGhpbmtpbmcgdGltZVxyXG4gIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKVxyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBIYW5kbGUgZ3JlZXRpbmdzIGFuZCBnZW5lcmFsIG1lc3NhZ2VzXHJcbiAgICBpZiAobGFzdE1lc3NhZ2UubWF0Y2goL14oaGl8aGVsbG98aGV5fGdyZWV0aW5nc3xnb29kIChtb3JuaW5nfGFmdGVybm9vbnxldmVuaW5nKSkkL2kpKSB7XHJcbiAgICAgIHlpZWxkIHtcclxuICAgICAgICBjaG9pY2VzOiBbe1xyXG4gICAgICAgICAgZGVsdGE6IHtcclxuICAgICAgICAgICAgY29udGVudDogXCJIZWxsbyEgSG93IGNhbiBJIGhlbHAgeW91IHdpdGggeW91ciBpbnZvaWNlcyB0b2RheT9cIlxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1dXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gSGFuZGxlIGRpZmZlcmVudCB0eXBlcyBvZiByZXF1ZXN0c1xyXG4gICAgaWYgKGxhc3RNZXNzYWdlLmluY2x1ZGVzKCdzaG93IG1lIGludm9pY2UnKSB8fCBsYXN0TWVzc2FnZS5pbmNsdWRlcygnZ2V0IGludm9pY2UnKSkge1xyXG4gICAgICAvLyBNYXRjaCB2YXJpb3VzIGludm9pY2UgbnVtYmVyIGZvcm1hdHNcclxuICAgICAgY29uc3QgbWF0Y2ggPSBsYXN0TWVzc2FnZS5tYXRjaCgvKD86c2hvd3xnZXQpKD86XFxzK21lKT8oPzpcXHMraW52b2ljZSk/XFxzKyM/KD86aW52LSk/KFxcZCspL2kpXHJcbiAgICAgIGlmIChtYXRjaCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBpbnZvaWNlID0gYXdhaXQgZ2V0SW52b2ljZUJ5SWQobWF0Y2hbMV0pIGFzIEludm9pY2VcclxuICAgICAgICAgIHlpZWxkIHtcclxuICAgICAgICAgICAgY2hvaWNlczogW3tcclxuICAgICAgICAgICAgICBkZWx0YToge1xyXG4gICAgICAgICAgICAgICAgY29udGVudDogYEhlcmUgYXJlIHRoZSBkZXRhaWxzIGZvciBJbnZvaWNlICMke2ludm9pY2UuRG9jTnVtYmVyfTpcXG5gICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYEN1c3RvbWVyOiAke2ludm9pY2UuQ3VzdG9tZXJSZWYubmFtZX1cXG5gICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYEFtb3VudDogJCR7aW52b2ljZS5Ub3RhbEFtdH1cXG5gICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYERhdGU6ICR7bmV3IERhdGUoaW52b2ljZS5UeG5EYXRlKS50b0xvY2FsZURhdGVTdHJpbmcoKX1cXG5gICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYEJhbGFuY2U6ICQke2ludm9pY2UuQmFsYW5jZX1gXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgICAgIGNvbnN0IGludm9pY2VzID0gYXdhaXQgZmV0Y2hJbnZvaWNlcygpIGFzIEludm9pY2VbXVxyXG4gICAgICAgICAgeWllbGQge1xyXG4gICAgICAgICAgICBjaG9pY2VzOiBbe1xyXG4gICAgICAgICAgICAgIGRlbHRhOiB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50OiBgSSdtIHNvcnJ5LCBidXQgSSBjb3VsZG4ndCBmaW5kIEludm9pY2UgIyR7bWF0Y2hbMV19LiBIZXJlIGFyZSB0aGUgYXZhaWxhYmxlIGludm9pY2UgbnVtYmVyczpcXG5gICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZXMubWFwKGludiA9PiBgLSAke2ludi5Eb2NOdW1iZXJ9YCkuam9pbignXFxuJylcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGludm9pY2VzID0gYXdhaXQgZmV0Y2hJbnZvaWNlcygpIGFzIEludm9pY2VbXVxyXG4gICAgICAgIHlpZWxkIHtcclxuICAgICAgICAgIGNob2ljZXM6IFt7XHJcbiAgICAgICAgICAgIGRlbHRhOiB7XHJcbiAgICAgICAgICAgICAgY29udGVudDogXCJQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIGludm9pY2UgbnVtYmVyLiBIZXJlIGFyZSB5b3VyIGF2YWlsYWJsZSBpbnZvaWNlczpcXG5cXG5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICBpbnZvaWNlcy5tYXAoaW52ID0+IGDigKIgSW52b2ljZSAjJHtpbnYuRG9jTnVtYmVyfSAtICR7aW52LkN1c3RvbWVyUmVmLm5hbWV9ICgkJHtpbnYuVG90YWxBbXR9KWApLmpvaW4oJ1xcbicpICtcclxuICAgICAgICAgICAgICAgICAgICAgIFwiXFxuXFxuWW91IGNhbiB1c2UgYW55IG9mIHRoZXNlIGZvcm1hdHM6XFxuXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgXCLigKIgc2hvdyBtZSBpbnZvaWNlIFtudW1iZXJdXFxuXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgXCLigKIgc2hvdyBtZSBpbnZvaWNlIElOVi1bbnVtYmVyXVxcblwiICtcclxuICAgICAgICAgICAgICAgICAgICAgIFwi4oCiIHNob3cgbWUgaW52b2ljZSAjW251bWJlcl1cIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChsYXN0TWVzc2FnZS5pbmNsdWRlcygnc3VtbWFyaXplIGludm9pY2UnKSkge1xyXG4gICAgICBjb25zdCBtYXRjaCA9IGxhc3RNZXNzYWdlLm1hdGNoKC9zdW1tYXJpemUoPzpcXHMraW52b2ljZSk/XFxzKyM/KD86aW52LSk/KFxcZCspL2kpXHJcbiAgICAgIGlmIChtYXRjaCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBpbnZvaWNlID0gYXdhaXQgZ2V0SW52b2ljZUJ5SWQobWF0Y2hbMV0pIGFzIEludm9pY2VcclxuICAgICAgICAgIHlpZWxkIHtcclxuICAgICAgICAgICAgY2hvaWNlczogW3tcclxuICAgICAgICAgICAgICBkZWx0YToge1xyXG4gICAgICAgICAgICAgICAgY29udGVudDogYEludm9pY2UgIyR7aW52b2ljZS5Eb2NOdW1iZXJ9IGZvciAke2ludm9pY2UuQ3VzdG9tZXJSZWYubmFtZX0gd2l0aCB0b3RhbCBhbW91bnQgJCR7aW52b2ljZS5Ub3RhbEFtdH0sIGRhdGVkICR7bmV3IERhdGUoaW52b2ljZS5UeG5EYXRlKS50b0xvY2FsZURhdGVTdHJpbmcoKX1gXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgICAgIGNvbnN0IGludm9pY2VzID0gYXdhaXQgZmV0Y2hJbnZvaWNlcygpIGFzIEludm9pY2VbXVxyXG4gICAgICAgICAgeWllbGQge1xyXG4gICAgICAgICAgICBjaG9pY2VzOiBbe1xyXG4gICAgICAgICAgICAgIGRlbHRhOiB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50OiBgSSdtIHNvcnJ5LCBidXQgSSBjb3VsZG4ndCBmaW5kIEludm9pY2UgIyR7bWF0Y2hbMV19LiBIZXJlIGFyZSB0aGUgYXZhaWxhYmxlIGludm9pY2UgbnVtYmVyczpcXG5gICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW52b2ljZXMubWFwKGludiA9PiBgLSAke2ludi5Eb2NOdW1iZXJ9YCkuam9pbignXFxuJylcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGxhc3RNZXNzYWdlLmluY2x1ZGVzKCdsaXN0IGFsbCBpbnZvaWNlcycpIHx8IGxhc3RNZXNzYWdlLmluY2x1ZGVzKCdzaG93IGFsbCBpbnZvaWNlcycpKSB7XHJcbiAgICAgIGNvbnN0IGludm9pY2VzID0gYXdhaXQgZmV0Y2hJbnZvaWNlcygpIGFzIEludm9pY2VbXVxyXG4gICAgICB5aWVsZCB7XHJcbiAgICAgICAgY2hvaWNlczogW3tcclxuICAgICAgICAgIGRlbHRhOiB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiSGVyZSBhcmUgYWxsIHlvdXIgaW52b2ljZXM6XFxuXCIgKyBcclxuICAgICAgICAgICAgICAgICAgICBpbnZvaWNlcy5tYXAoaW52ID0+IGAtIEludm9pY2UgIyR7aW52LkRvY051bWJlcn06ICR7aW52LkN1c3RvbWVyUmVmLm5hbWV9IC0gJCR7aW52LlRvdGFsQW10fWApLmpvaW4oJ1xcbicpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfV1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgeWllbGQge1xyXG4gICAgICAgIGNob2ljZXM6IFt7XHJcbiAgICAgICAgICBkZWx0YToge1xyXG4gICAgICAgICAgICBjb250ZW50OiBcIkkgY2FuIGhlbHAgeW91IHdpdGggeW91ciBpbnZvaWNlcy4gWW91IGNhbiBhc2sgbWUgdG86XFxuXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwi4oCiIFNob3cgYSBzcGVjaWZpYyBpbnZvaWNlIChlLmcuLCAnc2hvdyBtZSBpbnZvaWNlIDEnKVxcblwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIuKAoiBMaXN0IGFsbCBpbnZvaWNlcyAoZS5nLiwgJ3Nob3cgYWxsIGludm9pY2VzJylcXG5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCLigKIgU3VtbWFyaXplIGFuIGludm9pY2UgKGUuZy4sICdzdW1tYXJpemUgaW52b2ljZSAxJylcXG5cXG5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJXaGF0IHdvdWxkIHlvdSBsaWtlIHRvIGtub3cgYWJvdXQgeW91ciBpbnZvaWNlcz9cIlxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1dXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICB5aWVsZCB7XHJcbiAgICAgIGNob2ljZXM6IFt7XHJcbiAgICAgICAgZGVsdGE6IHtcclxuICAgICAgICAgIGNvbnRlbnQ6IFwiSSdtIGhhdmluZyB0cm91YmxlIGFjY2Vzc2luZyB0aGUgaW52b2ljZSBkYXRhLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiXHJcbiAgICAgICAgfVxyXG4gICAgICB9XVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgbWVzc2FnZXMgfSA9IGF3YWl0IHJlcS5qc29uKClcclxuICAgIFxyXG4gICAgLy8gQ3JlYXRlIGEgUmVhZGFibGVTdHJlYW0gZnJvbSB0aGUgY2hhdCBjb21wbGV0aW9uXHJcbiAgICBjb25zdCBzdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oe1xyXG4gICAgICBhc3luYyBzdGFydChjb250cm9sbGVyKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgY2hhdENvbXBsZXRpb24obWVzc2FnZXMpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBjaHVuay5jaG9pY2VzWzBdLmRlbHRhLmNvbnRlbnRcclxuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShjb250ZW50KSlcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb250cm9sbGVyLmVycm9yKGVycm9yKVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIH0pXHJcblxyXG4gICAgcmV0dXJuIG5ldyBTdHJlYW1pbmdUZXh0UmVzcG9uc2Uoc3RyZWFtKVxyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSksIHtcclxuICAgICAgc3RhdHVzOiA1MDAsXHJcbiAgICB9KVxyXG4gIH1cclxufSAiXSwibmFtZXMiOlsiU3RyZWFtaW5nVGV4dFJlc3BvbnNlIiwiZ2V0SW52b2ljZUJ5SWQiLCJmZXRjaEludm9pY2VzIiwibW9ja1N0cmVhbVJlc3BvbnNlIiwibWVzc2FnZSIsImVuY29kZXIiLCJUZXh0RW5jb2RlciIsImNodW5rcyIsInNwbGl0IiwiY2h1bmsiLCJlbmNvZGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJjaGF0Q29tcGxldGlvbiIsIm1lc3NhZ2VzIiwibGFzdE1lc3NhZ2UiLCJsZW5ndGgiLCJjb250ZW50IiwidG9Mb3dlckNhc2UiLCJtYXRjaCIsImNob2ljZXMiLCJkZWx0YSIsImluY2x1ZGVzIiwiaW52b2ljZSIsIkRvY051bWJlciIsIkN1c3RvbWVyUmVmIiwibmFtZSIsIlRvdGFsQW10IiwiRGF0ZSIsIlR4bkRhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJCYWxhbmNlIiwiZXJyb3IiLCJpbnZvaWNlcyIsIm1hcCIsImludiIsImpvaW4iLCJQT1NUIiwicmVxIiwianNvbiIsInN0cmVhbSIsIlJlYWRhYmxlU3RyZWFtIiwic3RhcnQiLCJjb250cm9sbGVyIiwiZW5xdWV1ZSIsImNsb3NlIiwiUmVzcG9uc2UiLCJKU09OIiwic3RyaW5naWZ5Iiwic3RhdHVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/chat/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/mock/invoices.ts":
/*!**********************************!*\
  !*** ./src/lib/mock/invoices.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mockInvoices: () => (/* binding */ mockInvoices)\n/* harmony export */ });\nconst mockInvoices = Array.from({\n    length: 100\n}, (_, i)=>{\n    const invoiceNumber = i + 1;\n    const amount = (invoiceNumber * 100).toFixed(2);\n    return {\n        Id: invoiceNumber.toString(),\n        DocNumber: `INV-${invoiceNumber}`,\n        TxnDate: \"2024-04-05\",\n        DueDate: \"2024-05-05\",\n        TotalAmt: parseFloat(amount),\n        Balance: parseFloat(amount),\n        CustomerRef: {\n            name: `Customer ${invoiceNumber}`\n        },\n        Line: [\n            {\n                Id: `${invoiceNumber}-1`,\n                LineNum: 1,\n                Description: `Invoice ${invoiceNumber} line item`,\n                Amount: parseFloat(amount),\n                DetailType: \"SalesItemLineDetail\",\n                SalesItemLineDetail: {\n                    ItemRef: {\n                        value: `${invoiceNumber}-1`,\n                        name: `Item ${invoiceNumber}`\n                    },\n                    UnitPrice: parseFloat(amount),\n                    Qty: 1\n                }\n            }\n        ],\n        CustomerMemo: {\n            value: `Invoice for Customer ${invoiceNumber}`\n        }\n    };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21vY2svaW52b2ljZXMudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUVPLE1BQU1BLGVBQTBCQyxNQUFNQyxJQUFJLENBQUM7SUFBRUMsUUFBUTtBQUFJLEdBQUcsQ0FBQ0MsR0FBR0M7SUFDckUsTUFBTUMsZ0JBQWdCRCxJQUFJO0lBQzFCLE1BQU1FLFNBQVMsQ0FBQ0QsZ0JBQWdCLEdBQUUsRUFBR0UsT0FBTyxDQUFDO0lBQzdDLE9BQU87UUFDTEMsSUFBSUgsY0FBY0ksUUFBUTtRQUMxQkMsV0FBVyxDQUFDLElBQUksRUFBRUwsY0FBYyxDQUFDO1FBQ2pDTSxTQUFTO1FBQ1RDLFNBQVM7UUFDVEMsVUFBVUMsV0FBV1I7UUFDckJTLFNBQVNELFdBQVdSO1FBQ3BCVSxhQUFhO1lBQ1hDLE1BQU0sQ0FBQyxTQUFTLEVBQUVaLGNBQWMsQ0FBQztRQUNuQztRQUNBYSxNQUFNO1lBQUM7Z0JBQ0xWLElBQUksQ0FBQyxFQUFFSCxjQUFjLEVBQUUsQ0FBQztnQkFDeEJjLFNBQVM7Z0JBQ1RDLGFBQWEsQ0FBQyxRQUFRLEVBQUVmLGNBQWMsVUFBVSxDQUFDO2dCQUNqRGdCLFFBQVFQLFdBQVdSO2dCQUNuQmdCLFlBQVk7Z0JBQ1pDLHFCQUFxQjtvQkFDbkJDLFNBQVM7d0JBQ1BDLE9BQU8sQ0FBQyxFQUFFcEIsY0FBYyxFQUFFLENBQUM7d0JBQzNCWSxNQUFNLENBQUMsS0FBSyxFQUFFWixjQUFjLENBQUM7b0JBQy9CO29CQUNBcUIsV0FBV1osV0FBV1I7b0JBQ3RCcUIsS0FBSztnQkFDUDtZQUNGO1NBQUU7UUFDRkMsY0FBYztZQUFFSCxPQUFPLENBQUMscUJBQXFCLEVBQUVwQixjQUFjLENBQUM7UUFBQztJQUNqRTtBQUNGLEdBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnZvaWNlLWFwcC8uL3NyYy9saWIvbW9jay9pbnZvaWNlcy50cz83NjY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEludm9pY2UgfSBmcm9tICdAL3R5cGVzL2ludm9pY2UnXHJcblxyXG5leHBvcnQgY29uc3QgbW9ja0ludm9pY2VzOiBJbnZvaWNlW10gPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMDAgfSwgKF8sIGkpID0+IHtcclxuICBjb25zdCBpbnZvaWNlTnVtYmVyID0gaSArIDFcclxuICBjb25zdCBhbW91bnQgPSAoaW52b2ljZU51bWJlciAqIDEwMCkudG9GaXhlZCgyKVxyXG4gIHJldHVybiB7XHJcbiAgICBJZDogaW52b2ljZU51bWJlci50b1N0cmluZygpLFxyXG4gICAgRG9jTnVtYmVyOiBgSU5WLSR7aW52b2ljZU51bWJlcn1gLFxyXG4gICAgVHhuRGF0ZTogJzIwMjQtMDQtMDUnLFxyXG4gICAgRHVlRGF0ZTogJzIwMjQtMDUtMDUnLFxyXG4gICAgVG90YWxBbXQ6IHBhcnNlRmxvYXQoYW1vdW50KSxcclxuICAgIEJhbGFuY2U6IHBhcnNlRmxvYXQoYW1vdW50KSxcclxuICAgIEN1c3RvbWVyUmVmOiB7XHJcbiAgICAgIG5hbWU6IGBDdXN0b21lciAke2ludm9pY2VOdW1iZXJ9YFxyXG4gICAgfSxcclxuICAgIExpbmU6IFt7XHJcbiAgICAgIElkOiBgJHtpbnZvaWNlTnVtYmVyfS0xYCxcclxuICAgICAgTGluZU51bTogMSxcclxuICAgICAgRGVzY3JpcHRpb246IGBJbnZvaWNlICR7aW52b2ljZU51bWJlcn0gbGluZSBpdGVtYCxcclxuICAgICAgQW1vdW50OiBwYXJzZUZsb2F0KGFtb3VudCksXHJcbiAgICAgIERldGFpbFR5cGU6ICdTYWxlc0l0ZW1MaW5lRGV0YWlsJyxcclxuICAgICAgU2FsZXNJdGVtTGluZURldGFpbDoge1xyXG4gICAgICAgIEl0ZW1SZWY6IHtcclxuICAgICAgICAgIHZhbHVlOiBgJHtpbnZvaWNlTnVtYmVyfS0xYCxcclxuICAgICAgICAgIG5hbWU6IGBJdGVtICR7aW52b2ljZU51bWJlcn1gXHJcbiAgICAgICAgfSxcclxuICAgICAgICBVbml0UHJpY2U6IHBhcnNlRmxvYXQoYW1vdW50KSxcclxuICAgICAgICBRdHk6IDFcclxuICAgICAgfVxyXG4gICAgfV0sXHJcbiAgICBDdXN0b21lck1lbW86IHsgdmFsdWU6IGBJbnZvaWNlIGZvciBDdXN0b21lciAke2ludm9pY2VOdW1iZXJ9YCB9XHJcbiAgfVxyXG59KVxyXG4iXSwibmFtZXMiOlsibW9ja0ludm9pY2VzIiwiQXJyYXkiLCJmcm9tIiwibGVuZ3RoIiwiXyIsImkiLCJpbnZvaWNlTnVtYmVyIiwiYW1vdW50IiwidG9GaXhlZCIsIklkIiwidG9TdHJpbmciLCJEb2NOdW1iZXIiLCJUeG5EYXRlIiwiRHVlRGF0ZSIsIlRvdGFsQW10IiwicGFyc2VGbG9hdCIsIkJhbGFuY2UiLCJDdXN0b21lclJlZiIsIm5hbWUiLCJMaW5lIiwiTGluZU51bSIsIkRlc2NyaXB0aW9uIiwiQW1vdW50IiwiRGV0YWlsVHlwZSIsIlNhbGVzSXRlbUxpbmVEZXRhaWwiLCJJdGVtUmVmIiwidmFsdWUiLCJVbml0UHJpY2UiLCJRdHkiLCJDdXN0b21lck1lbW8iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/mock/invoices.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/quickbooks/api.ts":
/*!***********************************!*\
  !*** ./src/lib/quickbooks/api.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchInvoices: () => (/* binding */ fetchInvoices),\n/* harmony export */   getAuthUrl: () => (/* binding */ getAuthUrl),\n/* harmony export */   getInvoiceById: () => (/* binding */ getInvoiceById),\n/* harmony export */   handleCallback: () => (/* binding */ handleCallback),\n/* harmony export */   initializeQBO: () => (/* binding */ initializeQBO)\n/* harmony export */ });\n/* harmony import */ var intuit_oauth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! intuit-oauth */ \"(rsc)/./node_modules/intuit-oauth/src/OAuthClient.js\");\n/* harmony import */ var intuit_oauth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(intuit_oauth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var node_quickbooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! node-quickbooks */ \"(rsc)/./node_modules/node-quickbooks/index.js\");\n/* harmony import */ var node_quickbooks__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(node_quickbooks__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _mock_invoices__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../mock/invoices */ \"(rsc)/./src/lib/mock/invoices.ts\");\n\n\n\nconst oauthClient = new (intuit_oauth__WEBPACK_IMPORTED_MODULE_0___default())({\n    clientId: process.env.QUICKBOOKS_CLIENT_ID,\n    clientSecret: process.env.QUICKBOOKS_CLIENT_SECRET,\n    environment:  false ? 0 : \"sandbox\",\n    redirectUri: `${\"http://localhost:3000\"}/api/auth/callback`\n});\nlet qbo = null;\nconst initializeQBO = (accessToken, realmId)=>{\n    try {\n        qbo = new (node_quickbooks__WEBPACK_IMPORTED_MODULE_1___default())(process.env.QUICKBOOKS_CLIENT_ID, process.env.QUICKBOOKS_CLIENT_SECRET, accessToken, \"development\" !== \"production\", realmId);\n        return true;\n    } catch (error) {\n        console.error(\"Failed to initialize QuickBooks client:\", error);\n        return false;\n    }\n};\nconst checkClientInitialized = ()=>{\n    if (!qbo) {\n        return false;\n    }\n    return true;\n};\nconst mapQuickBooksInvoice = (qbInvoice)=>{\n    return {\n        Id: qbInvoice.Id,\n        DocNumber: qbInvoice.DocNumber || `INV-${qbInvoice.Id}`,\n        TxnDate: qbInvoice.TxnDate,\n        DueDate: qbInvoice.DueDate,\n        TotalAmt: qbInvoice.TotalAmt || 0,\n        Balance: qbInvoice.Balance || qbInvoice.TotalAmt || 0,\n        CustomerRef: {\n            name: qbInvoice.CustomerRef?.name || \"Unknown Customer\"\n        },\n        Line: (qbInvoice.Line || []).map((line)=>({\n                Id: line.Id,\n                LineNum: line.LineNum,\n                Description: line.Description || \"\",\n                Amount: line.Amount || 0,\n                DetailType: line.DetailType,\n                SalesItemLineDetail: line.SalesItemLineDetail ? {\n                    ItemRef: {\n                        value: line.SalesItemLineDetail.ItemRef?.value || \"\",\n                        name: line.SalesItemLineDetail.ItemRef?.name || \"\"\n                    },\n                    UnitPrice: line.SalesItemLineDetail.UnitPrice || 0,\n                    Qty: line.SalesItemLineDetail.Qty || 0\n                } : undefined\n            })),\n        CustomerMemo: qbInvoice.CustomerMemo ? {\n            value: qbInvoice.CustomerMemo.value\n        } : undefined,\n        PrivateNote: qbInvoice.PrivateNote,\n        EmailStatus: qbInvoice.EmailStatus,\n        DeliveryInfo: qbInvoice.DeliveryInfo ? {\n            DeliveryType: qbInvoice.DeliveryInfo.DeliveryType,\n            DeliveryTime: qbInvoice.DeliveryInfo.DeliveryTime\n        } : undefined\n    };\n};\nconst fetchInvoices = async ()=>{\n    try {\n        if (!checkClientInitialized()) {\n            return _mock_invoices__WEBPACK_IMPORTED_MODULE_2__.mockInvoices;\n        }\n        return new Promise((resolve, reject)=>{\n            qbo.findInvoices({\n                limit: 100,\n                desc: \"Invoice\"\n            }, (err, invoices)=>{\n                if (err) {\n                    console.error(\"Error fetching invoices:\", err);\n                    resolve(_mock_invoices__WEBPACK_IMPORTED_MODULE_2__.mockInvoices);\n                } else {\n                    resolve(invoices.QueryResponse.Invoice.map(mapQuickBooksInvoice));\n                }\n            });\n        });\n    } catch (error) {\n        console.error(\"Error in fetchInvoices:\", error);\n        return _mock_invoices__WEBPACK_IMPORTED_MODULE_2__.mockInvoices;\n    }\n};\nconst getInvoiceById = async (id)=>{\n    try {\n        if (!checkClientInitialized()) {\n            const cleanId = id.replace(/^(?:inv-)?#?\\s*/i, \"\").trim();\n            let invoice = _mock_invoices__WEBPACK_IMPORTED_MODULE_2__.mockInvoices.find((inv)=>inv.DocNumber === id);\n            if (!invoice) {\n                invoice = _mock_invoices__WEBPACK_IMPORTED_MODULE_2__.mockInvoices.find((inv)=>inv.Id === cleanId);\n            }\n            if (invoice) {\n                return invoice;\n            }\n            throw new Error(`Invoice #${id} not found. Please check the invoice number and try again.`);\n        }\n        const cleanId = id.replace(/^(?:inv-)?#?\\s*/i, \"\").trim();\n        return new Promise((resolve, reject)=>{\n            qbo.getInvoice(cleanId, (err, invoice)=>{\n                if (err) {\n                    console.error(\"Error fetching invoice:\", err);\n                    if (err.statusCode === 404) {\n                        reject(new Error(`Invoice #${id} not found. Please check the invoice number and try again.`));\n                    } else {\n                        reject(new Error(\"Failed to fetch invoice. Please check your QuickBooks connection.\"));\n                    }\n                } else {\n                    resolve(mapQuickBooksInvoice(invoice));\n                }\n            });\n        });\n    } catch (error) {\n        console.error(\"Error in getInvoiceById:\", error);\n        const cleanId = id.replace(/^(?:inv-)?#?\\s*/i, \"\").trim();\n        const invoice = _mock_invoices__WEBPACK_IMPORTED_MODULE_2__.mockInvoices.find((inv)=>inv.DocNumber === id || inv.Id === cleanId);\n        if (invoice) {\n            return invoice;\n        }\n        throw error;\n    }\n};\nconst getAuthUrl = ()=>{\n    try {\n        return oauthClient.authorizeUri({\n            scope: [\n                (intuit_oauth__WEBPACK_IMPORTED_MODULE_0___default().scopes).Accounting,\n                (intuit_oauth__WEBPACK_IMPORTED_MODULE_0___default().scopes).OpenId,\n                (intuit_oauth__WEBPACK_IMPORTED_MODULE_0___default().scopes).Profile,\n                (intuit_oauth__WEBPACK_IMPORTED_MODULE_0___default().scopes).Email\n            ],\n            state: \"teststate\"\n        });\n    } catch (error) {\n        console.error(\"Error generating auth URL:\", error);\n        throw new Error(\"Failed to generate QuickBooks authorization URL\");\n    }\n};\nasync function handleCallback(url) {\n    try {\n        const authResponse = await oauthClient.createToken(url);\n        const token = authResponse.getJson();\n        if (token.realmId) {\n            initializeQBO(token.access_token, token.realmId);\n        }\n        return token;\n    } catch (error) {\n        console.error(\"Error handling callback:\", error);\n        throw new Error(\"Failed to complete QuickBooks authorization\");\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1FBQzFDLE1BQU0sSUFBSW1ELE1BQU07SUFDbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2ludm9pY2UtYXBwLy4vc3JjL2xpYi9xdWlja2Jvb2tzL2FwaS50cz8yY2E4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEludm9pY2UgfSBmcm9tICdAL3R5cGVzL2ludm9pY2UnXHJcbmltcG9ydCBPQXV0aENsaWVudCBmcm9tICdpbnR1aXQtb2F1dGgnXHJcbmltcG9ydCBRdWlja0Jvb2tzIGZyb20gJ25vZGUtcXVpY2tib29rcydcclxuaW1wb3J0IHsgbW9ja0ludm9pY2VzIH0gZnJvbSAnLi4vbW9jay9pbnZvaWNlcydcclxuXHJcbmNvbnN0IG9hdXRoQ2xpZW50ID0gbmV3IE9BdXRoQ2xpZW50KHtcclxuICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuUVVJQ0tCT09LU19DTElFTlRfSUQhLFxyXG4gIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuUVVJQ0tCT09LU19DTElFTlRfU0VDUkVUISxcclxuICBlbnZpcm9ubWVudDogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/ICdwcm9kdWN0aW9uJyA6ICdzYW5kYm94JyxcclxuICByZWRpcmVjdFVyaTogYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFTRV9VUkx9L2FwaS9hdXRoL2NhbGxiYWNrYCxcclxufSlcclxuXHJcbmxldCBxYm86IFF1aWNrQm9va3MgfCBudWxsID0gbnVsbFxyXG5cclxuZXhwb3J0IGNvbnN0IGluaXRpYWxpemVRQk8gPSAoYWNjZXNzVG9rZW46IHN0cmluZywgcmVhbG1JZDogc3RyaW5nKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIHFibyA9IG5ldyBRdWlja0Jvb2tzKFxyXG4gICAgICBwcm9jZXNzLmVudi5RVUlDS0JPT0tTX0NMSUVOVF9JRCEsXHJcbiAgICAgIHByb2Nlc3MuZW52LlFVSUNLQk9PS1NfQ0xJRU5UX1NFQ1JFVCEsXHJcbiAgICAgIGFjY2Vzc1Rva2VuLFxyXG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nLFxyXG4gICAgICByZWFsbUlkXHJcbiAgICApXHJcbiAgICByZXR1cm4gdHJ1ZVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBRdWlja0Jvb2tzIGNsaWVudDonLCBlcnJvcilcclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgY2hlY2tDbGllbnRJbml0aWFsaXplZCA9ICgpID0+IHtcclxuICBpZiAoIXFibykge1xyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG4gIHJldHVybiB0cnVlXHJcbn1cclxuXHJcbmNvbnN0IG1hcFF1aWNrQm9va3NJbnZvaWNlID0gKHFiSW52b2ljZTogYW55KTogSW52b2ljZSA9PiB7XHJcbiAgcmV0dXJuIHtcclxuICAgIElkOiBxYkludm9pY2UuSWQsXHJcbiAgICBEb2NOdW1iZXI6IHFiSW52b2ljZS5Eb2NOdW1iZXIgfHwgYElOVi0ke3FiSW52b2ljZS5JZH1gLFxyXG4gICAgVHhuRGF0ZTogcWJJbnZvaWNlLlR4bkRhdGUsXHJcbiAgICBEdWVEYXRlOiBxYkludm9pY2UuRHVlRGF0ZSxcclxuICAgIFRvdGFsQW10OiBxYkludm9pY2UuVG90YWxBbXQgfHwgMCxcclxuICAgIEJhbGFuY2U6IHFiSW52b2ljZS5CYWxhbmNlIHx8IHFiSW52b2ljZS5Ub3RhbEFtdCB8fCAwLFxyXG4gICAgQ3VzdG9tZXJSZWY6IHtcclxuICAgICAgbmFtZTogcWJJbnZvaWNlLkN1c3RvbWVyUmVmPy5uYW1lIHx8ICdVbmtub3duIEN1c3RvbWVyJ1xyXG4gICAgfSxcclxuICAgIExpbmU6IChxYkludm9pY2UuTGluZSB8fCBbXSkubWFwKChsaW5lOiBhbnkpID0+ICh7XHJcbiAgICAgIElkOiBsaW5lLklkLFxyXG4gICAgICBMaW5lTnVtOiBsaW5lLkxpbmVOdW0sXHJcbiAgICAgIERlc2NyaXB0aW9uOiBsaW5lLkRlc2NyaXB0aW9uIHx8ICcnLFxyXG4gICAgICBBbW91bnQ6IGxpbmUuQW1vdW50IHx8IDAsXHJcbiAgICAgIERldGFpbFR5cGU6IGxpbmUuRGV0YWlsVHlwZSxcclxuICAgICAgU2FsZXNJdGVtTGluZURldGFpbDogbGluZS5TYWxlc0l0ZW1MaW5lRGV0YWlsID8ge1xyXG4gICAgICAgIEl0ZW1SZWY6IHtcclxuICAgICAgICAgIHZhbHVlOiBsaW5lLlNhbGVzSXRlbUxpbmVEZXRhaWwuSXRlbVJlZj8udmFsdWUgfHwgJycsXHJcbiAgICAgICAgICBuYW1lOiBsaW5lLlNhbGVzSXRlbUxpbmVEZXRhaWwuSXRlbVJlZj8ubmFtZSB8fCAnJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgVW5pdFByaWNlOiBsaW5lLlNhbGVzSXRlbUxpbmVEZXRhaWwuVW5pdFByaWNlIHx8IDAsXHJcbiAgICAgICAgUXR5OiBsaW5lLlNhbGVzSXRlbUxpbmVEZXRhaWwuUXR5IHx8IDBcclxuICAgICAgfSA6IHVuZGVmaW5lZFxyXG4gICAgfSkpLFxyXG4gICAgQ3VzdG9tZXJNZW1vOiBxYkludm9pY2UuQ3VzdG9tZXJNZW1vID8geyB2YWx1ZTogcWJJbnZvaWNlLkN1c3RvbWVyTWVtby52YWx1ZSB9IDogdW5kZWZpbmVkLFxyXG4gICAgUHJpdmF0ZU5vdGU6IHFiSW52b2ljZS5Qcml2YXRlTm90ZSxcclxuICAgIEVtYWlsU3RhdHVzOiBxYkludm9pY2UuRW1haWxTdGF0dXMsXHJcbiAgICBEZWxpdmVyeUluZm86IHFiSW52b2ljZS5EZWxpdmVyeUluZm8gPyB7XHJcbiAgICAgIERlbGl2ZXJ5VHlwZTogcWJJbnZvaWNlLkRlbGl2ZXJ5SW5mby5EZWxpdmVyeVR5cGUsXHJcbiAgICAgIERlbGl2ZXJ5VGltZTogcWJJbnZvaWNlLkRlbGl2ZXJ5SW5mby5EZWxpdmVyeVRpbWVcclxuICAgIH0gOiB1bmRlZmluZWRcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBmZXRjaEludm9pY2VzID0gYXN5bmMgKCk6IFByb21pc2U8SW52b2ljZVtdPiA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGlmICghY2hlY2tDbGllbnRJbml0aWFsaXplZCgpKSB7XHJcbiAgICAgIHJldHVybiBtb2NrSW52b2ljZXNcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgcWJvIS5maW5kSW52b2ljZXMoeyBsaW1pdDogMTAwLCBkZXNjOiAnSW52b2ljZScgfSwgKGVycjogYW55LCBpbnZvaWNlczogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgaW52b2ljZXM6JywgZXJyKVxyXG4gICAgICAgICAgcmVzb2x2ZShtb2NrSW52b2ljZXMpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJlc29sdmUoaW52b2ljZXMuUXVlcnlSZXNwb25zZS5JbnZvaWNlLm1hcChtYXBRdWlja0Jvb2tzSW52b2ljZSkpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gZmV0Y2hJbnZvaWNlczonLCBlcnJvcilcclxuICAgIHJldHVybiBtb2NrSW52b2ljZXNcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRJbnZvaWNlQnlJZCA9IGFzeW5jIChpZDogc3RyaW5nKTogUHJvbWlzZTxJbnZvaWNlPiA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGlmICghY2hlY2tDbGllbnRJbml0aWFsaXplZCgpKSB7XHJcbiAgICAgIGNvbnN0IGNsZWFuSWQgPSBpZC5yZXBsYWNlKC9eKD86aW52LSk/Iz9cXHMqL2ksICcnKS50cmltKClcclxuICAgICAgXHJcbiAgICAgIGxldCBpbnZvaWNlID0gbW9ja0ludm9pY2VzLmZpbmQoaW52ID0+IGludi5Eb2NOdW1iZXIgPT09IGlkKVxyXG4gICAgICBcclxuICAgICAgaWYgKCFpbnZvaWNlKSB7XHJcbiAgICAgICAgaW52b2ljZSA9IG1vY2tJbnZvaWNlcy5maW5kKGludiA9PiBpbnYuSWQgPT09IGNsZWFuSWQpXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmIChpbnZvaWNlKSB7XHJcbiAgICAgICAgcmV0dXJuIGludm9pY2VcclxuICAgICAgfVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEludm9pY2UgIyR7aWR9IG5vdCBmb3VuZC4gUGxlYXNlIGNoZWNrIHRoZSBpbnZvaWNlIG51bWJlciBhbmQgdHJ5IGFnYWluLmApXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGNsZWFuSWQgPSBpZC5yZXBsYWNlKC9eKD86aW52LSk/Iz9cXHMqL2ksICcnKS50cmltKClcclxuICAgIFxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgcWJvIS5nZXRJbnZvaWNlKGNsZWFuSWQsIChlcnI6IGFueSwgaW52b2ljZTogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgaW52b2ljZTonLCBlcnIpXHJcbiAgICAgICAgICBpZiAoZXJyLnN0YXR1c0NvZGUgPT09IDQwNCkge1xyXG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBJbnZvaWNlICMke2lkfSBub3QgZm91bmQuIFBsZWFzZSBjaGVjayB0aGUgaW52b2ljZSBudW1iZXIgYW5kIHRyeSBhZ2Fpbi5gKSlcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBpbnZvaWNlLiBQbGVhc2UgY2hlY2sgeW91ciBRdWlja0Jvb2tzIGNvbm5lY3Rpb24uJykpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJlc29sdmUobWFwUXVpY2tCb29rc0ludm9pY2UoaW52b2ljZSkpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gZ2V0SW52b2ljZUJ5SWQ6JywgZXJyb3IpXHJcbiAgICBjb25zdCBjbGVhbklkID0gaWQucmVwbGFjZSgvXig/Omludi0pPyM/XFxzKi9pLCAnJykudHJpbSgpXHJcbiAgICBjb25zdCBpbnZvaWNlID0gbW9ja0ludm9pY2VzLmZpbmQoaW52ID0+IGludi5Eb2NOdW1iZXIgPT09IGlkIHx8IGludi5JZCA9PT0gY2xlYW5JZClcclxuICAgIGlmIChpbnZvaWNlKSB7XHJcbiAgICAgIHJldHVybiBpbnZvaWNlXHJcbiAgICB9XHJcbiAgICB0aHJvdyBlcnJvclxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldEF1dGhVcmwgPSAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBvYXV0aENsaWVudC5hdXRob3JpemVVcmkoe1xyXG4gICAgICBzY29wZTogW1xyXG4gICAgICAgIE9BdXRoQ2xpZW50LnNjb3Blcy5BY2NvdW50aW5nLFxyXG4gICAgICAgIE9BdXRoQ2xpZW50LnNjb3Blcy5PcGVuSWQsXHJcbiAgICAgICAgT0F1dGhDbGllbnQuc2NvcGVzLlByb2ZpbGUsXHJcbiAgICAgICAgT0F1dGhDbGllbnQuc2NvcGVzLkVtYWlsLFxyXG4gICAgICBdLFxyXG4gICAgICBzdGF0ZTogJ3Rlc3RzdGF0ZScsXHJcbiAgICB9KVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZW5lcmF0aW5nIGF1dGggVVJMOicsIGVycm9yKVxyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZ2VuZXJhdGUgUXVpY2tCb29rcyBhdXRob3JpemF0aW9uIFVSTCcpXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQ2FsbGJhY2sodXJsOiBzdHJpbmcpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYXV0aFJlc3BvbnNlID0gYXdhaXQgb2F1dGhDbGllbnQuY3JlYXRlVG9rZW4odXJsKVxyXG4gICAgY29uc3QgdG9rZW4gPSBhdXRoUmVzcG9uc2UuZ2V0SnNvbigpXHJcbiAgICBcclxuICAgIGlmICh0b2tlbi5yZWFsbUlkKSB7XHJcbiAgICAgIGluaXRpYWxpemVRQk8odG9rZW4uYWNjZXNzX3Rva2VuLCB0b2tlbi5yZWFsbUlkKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gdG9rZW5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaGFuZGxpbmcgY2FsbGJhY2s6JywgZXJyb3IpXHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjb21wbGV0ZSBRdWlja0Jvb2tzIGF1dGhvcml6YXRpb24nKVxyXG4gIH1cclxufSAiXSwibmFtZXMiOlsiT0F1dGhDbGllbnQiLCJRdWlja0Jvb2tzIiwibW9ja0ludm9pY2VzIiwib2F1dGhDbGllbnQiLCJjbGllbnRJZCIsInByb2Nlc3MiLCJlbnYiLCJRVUlDS0JPT0tTX0NMSUVOVF9JRCIsImNsaWVudFNlY3JldCIsIlFVSUNLQk9PS1NfQ0xJRU5UX1NFQ1JFVCIsImVudmlyb25tZW50IiwicmVkaXJlY3RVcmkiLCJORVhUX1BVQkxJQ19CQVNFX1VSTCIsInFibyIsImluaXRpYWxpemVRQk8iLCJhY2Nlc3NUb2tlbiIsInJlYWxtSWQiLCJlcnJvciIsImNvbnNvbGUiLCJjaGVja0NsaWVudEluaXRpYWxpemVkIiwibWFwUXVpY2tCb29rc0ludm9pY2UiLCJxYkludm9pY2UiLCJJZCIsIkRvY051bWJlciIsIlR4bkRhdGUiLCJEdWVEYXRlIiwiVG90YWxBbXQiLCJCYWxhbmNlIiwiQ3VzdG9tZXJSZWYiLCJuYW1lIiwiTGluZSIsIm1hcCIsImxpbmUiLCJMaW5lTnVtIiwiRGVzY3JpcHRpb24iLCJBbW91bnQiLCJEZXRhaWxUeXBlIiwiU2FsZXNJdGVtTGluZURldGFpbCIsIkl0ZW1SZWYiLCJ2YWx1ZSIsIlVuaXRQcmljZSIsIlF0eSIsInVuZGVmaW5lZCIsIkN1c3RvbWVyTWVtbyIsIlByaXZhdGVOb3RlIiwiRW1haWxTdGF0dXMiLCJEZWxpdmVyeUluZm8iLCJEZWxpdmVyeVR5cGUiLCJEZWxpdmVyeVRpbWUiLCJmZXRjaEludm9pY2VzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmaW5kSW52b2ljZXMiLCJsaW1pdCIsImRlc2MiLCJlcnIiLCJpbnZvaWNlcyIsIlF1ZXJ5UmVzcG9uc2UiLCJJbnZvaWNlIiwiZ2V0SW52b2ljZUJ5SWQiLCJpZCIsImNsZWFuSWQiLCJyZXBsYWNlIiwidHJpbSIsImludm9pY2UiLCJmaW5kIiwiaW52IiwiRXJyb3IiLCJnZXRJbnZvaWNlIiwic3RhdHVzQ29kZSIsImdldEF1dGhVcmwiLCJhdXRob3JpemVVcmkiLCJzY29wZSIsInNjb3BlcyIsIkFjY291bnRpbmciLCJPcGVuSWQiLCJQcm9maWxlIiwiRW1haWwiLCJzdGF0ZSIsImhhbmRsZUNhbGxiYWNrIiwidXJsIiwiYXV0aFJlc3BvbnNlIiwiY3JlYXRlVG9rZW4iLCJ0b2tlbiIsImdldEpzb24iLCJhY2Nlc3NfdG9rZW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/quickbooks/api.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/ajv","vendor-chunks/psl","vendor-chunks/sshpk","vendor-chunks/bluebird","vendor-chunks/mime-db","vendor-chunks/axios","vendor-chunks/readable-stream","vendor-chunks/node-quickbooks","vendor-chunks/request","vendor-chunks/winston","vendor-chunks/underscore","vendor-chunks/tweetnacl","vendor-chunks/fast-xml-parser","vendor-chunks/semver","vendor-chunks/uri-js","vendor-chunks/tough-cookie","vendor-chunks/jsbn","vendor-chunks/color","vendor-chunks/ai","vendor-chunks/bcrypt-pbkdf","vendor-chunks/async","vendor-chunks/http-signature","vendor-chunks/intuit-oauth","vendor-chunks/logform","vendor-chunks/jsonwebtoken","vendor-chunks/safe-stable-stringify","vendor-chunks/@colors","vendor-chunks/ecc-jsbn","vendor-chunks/follow-redirects","vendor-chunks/debug","vendor-chunks/lodash.includes","vendor-chunks/qs","vendor-chunks/jsprim","vendor-chunks/get-intrinsic","vendor-chunks/form-data","vendor-chunks/aws4","vendor-chunks/asn1","vendor-chunks/fecha","vendor-chunks/json-schema","vendor-chunks/query-string","vendor-chunks/verror","vendor-chunks/winston-transport","vendor-chunks/uuid","vendor-chunks/string_decoder","vendor-chunks/color-name","vendor-chunks/asynckit","vendor-chunks/date-fns","vendor-chunks/jws","vendor-chunks/har-schema","vendor-chunks/@dabh","vendor-chunks/tunnel-agent","vendor-chunks/lodash.once","vendor-chunks/jwa","vendor-chunks/color-string","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/assert-plus","vendor-chunks/combined-stream","vendor-chunks/extsprintf","vendor-chunks/forever-agent","vendor-chunks/aws-sign2","vendor-chunks/oauth-sign","vendor-chunks/strnum","vendor-chunks/extend","vendor-chunks/mime-types","vendor-chunks/lodash.isplainobject","vendor-chunks/stack-trace","vendor-chunks/proxy-from-env","vendor-chunks/triple-beam","vendor-chunks/ms","vendor-chunks/request-debug","vendor-chunks/csrf","vendor-chunks/supports-color","vendor-chunks/core-util-is","vendor-chunks/has-symbols","vendor-chunks/kuler","vendor-chunks/decode-uri-component","vendor-chunks/json-schema-traverse","vendor-chunks/delayed-stream","vendor-chunks/har-validator","vendor-chunks/lodash.isstring","vendor-chunks/safer-buffer","vendor-chunks/random-bytes","vendor-chunks/function-bind","vendor-chunks/lodash.isnumber","vendor-chunks/uid-safe","vendor-chunks/caseless","vendor-chunks/fast-json-stable-stringify","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/rsa-pem-from-mod-exp","vendor-chunks/es-set-tostringtag","vendor-chunks/fast-deep-equal","vendor-chunks/performance-now","vendor-chunks/tsscmp","vendor-chunks/call-bind-apply-helpers","vendor-chunks/get-proto","vendor-chunks/buffer-equal-constant-time","vendor-chunks/one-time","vendor-chunks/fn.name","vendor-chunks/dunder-proto","vendor-chunks/json-stringify-safe","vendor-chunks/is-typedarray","vendor-chunks/rndm","vendor-chunks/enabled","vendor-chunks/math-intrinsics","vendor-chunks/@babel","vendor-chunks/colorspace","vendor-chunks/is-stream","vendor-chunks/simple-swizzle","vendor-chunks/isstream","vendor-chunks/split-on-first","vendor-chunks/nanoid","vendor-chunks/es-errors","vendor-chunks/text-hex","vendor-chunks/filter-obj","vendor-chunks/has-flag","vendor-chunks/is-arrayish","vendor-chunks/es-define-property","vendor-chunks/gopd","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/strict-uri-encode","vendor-chunks/util-deprecate","vendor-chunks/atob","vendor-chunks/stringify-clone","vendor-chunks/es-object-atoms","vendor-chunks/eventsource-parser"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=C%3A%5Cinvoice-app%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cinvoice-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();